<%# ユーザーが持っているジャンルすべてを表示 %>
<h1>学習ジャンル 追加 / 編集</h1>
<div class="genre_index_box row">
  <div class="genre_main_box col-xs-9">
    <div class="genre_list_box col-xs-10 col-xs-offset-2">
        <div class="genre_form">
          <%= form_with(model: @genre, url: user_genres_path(user_id: current_user.id), method: :post, local: true, class:"form_control") do |f| %>
            <%= f.text_field :type ,class: "genre_type_form"%>
            <%= f.submit "追加", class:"genre_form_btn" %>
          <% end %>
        </div>
      <table class="genre_table">
        <thead class="genre_thead">
          <tr>
            <td>現在のジャンル名</td>
            <td>変更後ジャンル名</td>
            <td></td>
            <td></td>
          </tr>
        </thead>
        <tbody class="genre_tbody">
          <% @genres.each do |genre| %>
            <%= form_with(model: genre, url: user_genre_path(user_id: current_user.id, id: genre.id), method: :patch, local: true, class:"form_control") do |f| %>
            <tr>
              <td><%= genre.type.truncate(15) %></td>
              <td><%= f.text_field :type ,class:"genre_table_form"%></td>
              <td><%= f.submit "更新", class:"genre_form_btn" %></td>
              <td><div class="genre_delete_btn"><%= link_to "削除", user_genre_path(user_id: current_user.id, id: genre.id), method: :delete, data: {"turbolinks" => false} %></div></td>
            </tr>
            <% end %>
          <% end %>
        </tbody>
      </table>
      <%= paginate @genres %>
    </div>
  </div>
  <div class="genre_side_box col-xs-3">
    <%# ジャンルの一覧をサイドバーで表示 %>
    <%= render partial: 'layouts/side_genre', locals: {genres: @genres} %>
  </div>
</div>